<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="inheritAttrs: false, //一个没见过的
接下来，按我的理解来理一下vue实现的过程首先打开项目node_modules的vue/src/core/index.js,从这可以看到，入口文件是’instance/index’,
执行了[initGlobalAPI(Vue)]
进到 i" />
  

  
  
  
  
  
  
  <title>Vue | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="inheritAttrs: false, &#x2F;&#x2F;一个没见过的 接下来，按我的理解来理一下vue实现的过程首先打开项目node_modules的vue&#x2F;src&#x2F;core&#x2F;index.js,从这可以看到，入口文件是’instance&#x2F;index’, 执行了[initGlobalAPI(Vue)] 进到 instance&#x2F;index中，这个文件对Vue做了一系列的初始化 首先执行this._init(op">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue">
<meta property="og:url" content="http://example.com/2021/07/08/Vue/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="inheritAttrs: false, &#x2F;&#x2F;一个没见过的 接下来，按我的理解来理一下vue实现的过程首先打开项目node_modules的vue&#x2F;src&#x2F;core&#x2F;index.js,从这可以看到，入口文件是’instance&#x2F;index’, 执行了[initGlobalAPI(Vue)] 进到 instance&#x2F;index中，这个文件对Vue做了一系列的初始化 首先执行this._init(op">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-08T02:22:40.000Z">
<meta property="article:modified_time" content="2021-09-07T06:20:04.361Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  

  
  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
<meta name="generator" content="Hexo 5.4.0"></head>
<body class="home blog custom-background custom-font-enabled single-author">
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="Hexo" rel="home">Hexo</a>
      </h1>
      
        <h2 class="site-description hitokoto"></h2>
        <script type="text/javascript" src="https://v1.hitokoto.cn/?encode=js"></script>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">Archives</a></li>
                
                </ul>
            </div>
    </nav>
</header>

      <div id="main" class="wrapper">
        <div id="primary" class="site-content"><div id="content" role="main"><article id="post-Vue" class="post-Vue post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title article-title">
      Vue
    </h1>
  

        
        <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="http://example.com/2021/07/08/Vue/" data-id="ckxmsj7kz0000ou0sh8u3fanm" class="leave-reply bdsharebuttonbox" data-cmd="more">Share</a>
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <p>inheritAttrs: false, //一个没见过的</p>
<p>接下来，按我的理解来理一下vue实现的过程<br>首先打开项目node_modules的vue/src/core/index.js,从这可以看到，入口文件是’instance/index’,</p>
<p>执行了[initGlobalAPI(Vue)]</p>
<p>进到 instance/index中，这个文件对Vue做了一系列的初始化</p>
<p>首先执行this._init(options)，所以先看init.js 文件</p>
<p>我在一个页面打印 console.log(this, this.constructor, “this”);打印出的结果如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> VueComponent (options) &#123;</span><br><span class="line">      this._init(options);</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<p>这段代码在Vue.extend中找到了，可见后面创建的页面应该是通过Vue.extend创建的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="keyword">function</span> resolveConstructorOptions (Ctor: Class&lt;Component&gt;) &#123;</span><br><span class="line">  <span class="built_in">let</span> options = Ctor.options</span><br><span class="line">  <span class="keyword">if</span> (Ctor.super) &#123;</span><br><span class="line">    // 通过Vue.extend 生成的实例会有super属性，</span><br><span class="line">    const superOptions = resolveConstructorOptions(Ctor.super)</span><br><span class="line">    const cachedSuperOptions = Ctor.superOptions</span><br><span class="line">    <span class="keyword">if</span> (superOptions !== cachedSuperOptions) &#123;</span><br><span class="line">      // super option changed,</span><br><span class="line">      // need to resolve new options.</span><br><span class="line">      Ctor.superOptions = superOptions</span><br><span class="line">      // check <span class="keyword">if</span> there are any late-modified/attached options (<span class="comment">#4976)</span></span><br><span class="line">      const modifiedOptions = resolveModifiedOptions(Ctor)</span><br><span class="line">      // update base extend options</span><br><span class="line">      <span class="keyword">if</span> (modifiedOptions) &#123;</span><br><span class="line">        extend(Ctor.extendOptions, modifiedOptions)</span><br><span class="line">      &#125;</span><br><span class="line">      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions)</span><br><span class="line">      <span class="keyword">if</span> (options.name) &#123;</span><br><span class="line">        options.components[options.name] = Ctor</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> options</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Vue.use</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> toArray (list, start) &#123;</span><br><span class="line">  start = start || 0;</span><br><span class="line">  var i = list.length - start;</span><br><span class="line">  var ret = new Array(i);</span><br><span class="line">  <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">    ret[i] = list[i + start];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Vue.use = <span class="keyword">function</span> (plugin) &#123;</span><br><span class="line">   var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));</span><br><span class="line">   <span class="keyword">if</span> (installedPlugins.indexOf(plugin) &gt; -1) &#123;</span><br><span class="line">     <span class="built_in">return</span> this</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // additional parameters</span><br><span class="line">   var args = toArray(arguments, 1);</span><br><span class="line">   args.unshift(this);</span><br><span class="line">   <span class="keyword">if</span> (typeof plugin.install === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">     plugin.install.apply(plugin, args);</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (typeof plugin === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">     plugin.apply(null, args);</span><br><span class="line">   &#125;</span><br><span class="line">   installedPlugins.push(plugin);</span><br><span class="line">   <span class="built_in">return</span> this</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>

<h2 id="optionMergeStrategies"><a href="#optionMergeStrategies" class="headerlink" title="optionMergeStrategies"></a>optionMergeStrategies</h2><p>在vue/src/core/config.js中有一段代码,约定optionMergeStrategies是有一个个函数组成的对象</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="built_in">type</span> Config = &#123;</span><br><span class="line">    optionMergeStrategies: &#123; [key: string]: Function &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面代码是默认合并策略，优先取子级，没有的话取父级</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var defaultStrat = <span class="keyword">function</span> (parentVal, childVal) &#123;</span><br><span class="line">  <span class="built_in">return</span> childVal === undefined</span><br><span class="line">    ? parentVal</span><br><span class="line">    : childVal</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="el，propsData"><a href="#el，propsData" class="headerlink" title="el，propsData"></a>el，propsData</h3><p>el，propsData采用默认合并</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const strats = config.optionMergeStrategies = Object.create(null);</span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">  strats.el = strats.propsData = <span class="keyword">function</span> (parent, child, vm, key) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!vm) &#123;</span><br><span class="line">      warn<span class="variable">$1</span>(</span><br><span class="line">        <span class="string">&quot;option \&quot;&quot;</span> + key + <span class="string">&quot;\&quot; can only be used during instance &quot;</span> +</span><br><span class="line">        <span class="string">&#x27;creation with the `new` keyword.&#x27;</span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> defaultStrat(parent, child)</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="data"><a href="#data" class="headerlink" title="data"></a>data</h3><p>在!vm情况下，子级不存在，取父级，否则mergeDataOrFn合并，vm存在，mergeDataOrFn合并，参数增加vm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">strats.data = <span class="keyword">function</span> (</span><br><span class="line">  parentVal,</span><br><span class="line">  childVal,</span><br><span class="line">  vm</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!vm) &#123;</span><br><span class="line">    <span class="keyword">if</span> (childVal &amp;&amp; typeof childVal !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span> &amp;&amp; warn<span class="variable">$1</span>(</span><br><span class="line">        <span class="string">&#x27;The &quot;data&quot; option should be a function &#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;that returns a per-instance value in component &#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;definitions.&#x27;</span>,</span><br><span class="line">        vm</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">      <span class="built_in">return</span> parentVal</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> mergeDataOrFn(parentVal, childVal)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">return</span> mergeDataOrFn(parentVal, childVal, vm)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>看下mergeDataOrFn是什么<br>在没有vm时，return mergedDataFn，else return mergedInstanceDataFn,这里有个区别parentVal.call(this, this)和parentVal.call(vm, vm)，这两个函数都返回mergeData（child,parent）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> mergeDataOrFn (</span><br><span class="line">  parentVal,</span><br><span class="line">  childVal,</span><br><span class="line">  vm</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!vm) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!childVal) &#123;</span><br><span class="line">      <span class="built_in">return</span> parentVal</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!parentVal) &#123;</span><br><span class="line">      <span class="built_in">return</span> childVal</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="keyword">function</span> <span class="function"><span class="title">mergedDataFn</span></span> () &#123;</span><br><span class="line">      <span class="built_in">return</span> mergeData(</span><br><span class="line">        typeof childVal === <span class="string">&#x27;function&#x27;</span> ? childVal.call(this, this) : childVal,</span><br><span class="line">        typeof parentVal === <span class="string">&#x27;function&#x27;</span> ? parentVal.call(this, this) : parentVal</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">return</span> <span class="keyword">function</span> <span class="function"><span class="title">mergedInstanceDataFn</span></span> () &#123;</span><br><span class="line">      // instance merge</span><br><span class="line">      var instanceData = typeof childVal === <span class="string">&#x27;function&#x27;</span></span><br><span class="line">        ? childVal.call(vm, vm)</span><br><span class="line">        : childVal;</span><br><span class="line">      var defaultData = typeof parentVal === <span class="string">&#x27;function&#x27;</span></span><br><span class="line">        ? parentVal.call(vm, vm)</span><br><span class="line">        : parentVal;</span><br><span class="line">      <span class="keyword">if</span> (instanceData) &#123;</span><br><span class="line">        <span class="built_in">return</span> mergeData(instanceData, defaultData)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">return</span> defaultData</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>接下来看mergeData,如果子级没有key,则把父级的key给子级赋值，如果父级和子级都是对象，则调用mergeData，最终作用就是把父级有，子级没有的拷贝，其他不做处理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> mergeData (to, from) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!from) &#123; <span class="built_in">return</span> to &#125;</span><br><span class="line">  var key, toVal, fromVal;</span><br><span class="line">  var keys = Object.keys(from);</span><br><span class="line">  <span class="keyword">for</span> (var i = 0; i &lt; keys.length; i++) &#123;</span><br><span class="line">    key = keys[i];</span><br><span class="line">    toVal = to[key];</span><br><span class="line">    fromVal = from[key];</span><br><span class="line">    <span class="keyword">if</span> (!hasOwn(to, key)) &#123;</span><br><span class="line">      <span class="built_in">set</span>(to, key, fromVal);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isPlainObject(toVal) &amp;&amp; isPlainObject(fromVal)) &#123;</span><br><span class="line">      mergeData(toVal, fromVal);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> to</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="hooks钩子"><a href="#hooks钩子" class="headerlink" title="hooks钩子"></a>hooks钩子</h3><p>子级存在，如果父级存在，使用concat将子级合并到父级数组里，如果不存在，判断子级是不是数组，如果是返回子级，否，返回[ 子级 ]<br>子级不存在，返回父级</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var LIFECYCLE_HOOKS = [<span class="string">&#x27;beforeCreate&#x27;</span>,<span class="string">&#x27;created&#x27;</span>,<span class="string">&#x27;beforeMount&#x27;</span>,<span class="string">&#x27;mounted&#x27;</span>,<span class="string">&#x27;beforeUpdate&#x27;</span>,<span class="string">&#x27;updated&#x27;</span>,<span class="string">&#x27;beforeDestroy&#x27;</span>,<span class="string">&#x27;destroyed&#x27;</span>,<span class="string">&#x27;activated&#x27;</span>,<span class="string">&#x27;deactivated&#x27;</span>,<span class="string">&#x27;errorCaptured&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> mergeHook (</span><br><span class="line">  parentVal: ?Array&lt;Function&gt;,</span><br><span class="line">  childVal: ?Function | ?Array&lt;Function&gt;</span><br><span class="line">): ?Array&lt;Function&gt; &#123;</span><br><span class="line">  <span class="built_in">return</span> childVal</span><br><span class="line">    ? parentVal</span><br><span class="line">      ? parentVal.concat(childVal)</span><br><span class="line">      : Array.isArray(childVal)</span><br><span class="line">        ? childVal</span><br><span class="line">        : [childVal]</span><br><span class="line">    : parentVal</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LIFECYCLE_HOOKS.forEach(hook =&gt; &#123;</span><br><span class="line">  strats[hook] = mergeHook</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="components-directives-filters"><a href="#components-directives-filters" class="headerlink" title="components,directives,filters"></a>components,directives,filters</h3><p>extend函数就是一个复制的函数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var ASSET_TYPES = [</span><br><span class="line">  <span class="string">&#x27;component&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;directive&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;filter&#x27;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> assertObjectType (name, value, vm) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!isPlainObject(value)) &#123;</span><br><span class="line">    warn<span class="variable">$1</span>(</span><br><span class="line">      <span class="string">&quot;Invalid value for option \&quot;&quot;</span> + name + <span class="string">&quot;\&quot;: expected an Object, &quot;</span> +</span><br><span class="line">      <span class="string">&quot;but got &quot;</span> + (toRawType(value)) + <span class="string">&quot;.&quot;</span>,</span><br><span class="line">      vm</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> extend (to, _from) &#123;</span><br><span class="line">  <span class="keyword">for</span> (var key <span class="keyword">in</span> _from) &#123;</span><br><span class="line">    to[key] = _from[key];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> to</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> mergeAssets (</span><br><span class="line">  parentVal,</span><br><span class="line">  childVal,</span><br><span class="line">  vm,</span><br><span class="line">  key</span><br><span class="line">) &#123;</span><br><span class="line">  var res = Object.create(parentVal || null); //新建一个以父级为原型的函数</span><br><span class="line">  <span class="keyword">if</span> (childVal) &#123;</span><br><span class="line">    //如果子级有值，就把子级的值复制到res中，childVal必须是一个对象，否则报错</span><br><span class="line">    process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span> &amp;&amp; assertObjectType(key, childVal, vm);</span><br><span class="line">    <span class="built_in">return</span> extend(res, childVal)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">return</span> res</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ASSET_TYPES.forEach(<span class="keyword">function</span> (<span class="built_in">type</span>) &#123;</span><br><span class="line">  strats[<span class="built_in">type</span> + <span class="string">&#x27;s&#x27;</span>] = mergeAssets;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h3><p>返回ret:{key:[…parent,…child]},每个key的值最后都是一个数组，这个数组里面注册着父子中定义的所有同属性的回调函数。而且执行顺序是父亲先孩子后</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">strats.watch = <span class="keyword">function</span> (</span><br><span class="line">  parentVal,</span><br><span class="line">  childVal,</span><br><span class="line">  vm,</span><br><span class="line">  key</span><br><span class="line">) &#123;</span><br><span class="line">  //看不懂</span><br><span class="line">  <span class="keyword">if</span> (parentVal === nativeWatch) &#123; parentVal = undefined; &#125;</span><br><span class="line">  <span class="keyword">if</span> (childVal === nativeWatch) &#123; childVal = undefined; &#125;</span><br><span class="line">  //子级不存在，以父级为原型创建对象</span><br><span class="line">  <span class="keyword">if</span> (!childVal) &#123; <span class="built_in">return</span> Object.create(parentVal || null) &#125;</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">    assertObjectType(key, childVal, vm);</span><br><span class="line">  &#125;</span><br><span class="line">  //父级不存在，直接返回子级</span><br><span class="line">  <span class="keyword">if</span> (!parentVal) &#123; <span class="built_in">return</span> childVal &#125;</span><br><span class="line">  //都存在的情况，首先将父级的值复制到ret中</span><br><span class="line">  var ret = &#123;&#125;;</span><br><span class="line">  extend(ret, parentVal);</span><br><span class="line">  <span class="keyword">for</span> (var key<span class="variable">$1</span> <span class="keyword">in</span> childVal) &#123;</span><br><span class="line">    //遍历子级元素，如果父级有值（不是数组就使用[]进行包装），最后使用concat合并子级，否则返回子级</span><br><span class="line">    var parent = ret[key<span class="variable">$1</span>];</span><br><span class="line">    var child = childVal[key<span class="variable">$1</span>];</span><br><span class="line">    <span class="keyword">if</span> (parent &amp;&amp; !Array.isArray(parent)) &#123;</span><br><span class="line">      parent = [parent];</span><br><span class="line">    &#125;</span><br><span class="line">    ret[key<span class="variable">$1</span>] = parent</span><br><span class="line">      ? parent.concat(child)</span><br><span class="line">      : Array.isArray(child) ? child : [child];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> ret</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="props-methods-inject-computed"><a href="#props-methods-inject-computed" class="headerlink" title="props ,methods,inject,computed"></a>props ,methods,inject,computed</h3><p> extend(ret, parentVal),extend(ret, childVal)，将父级子级分别复制到ret中，返回ret，子组件会覆盖父组件的值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">strats.props =</span><br><span class="line">strats.methods =</span><br><span class="line">strats.inject =</span><br><span class="line">strats.computed = <span class="keyword">function</span> (</span><br><span class="line">  parentVal,</span><br><span class="line">  childVal,</span><br><span class="line">  vm,</span><br><span class="line">  key</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">if</span> (childVal &amp;&amp; process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">    assertObjectType(key, childVal, vm);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!parentVal) &#123; <span class="built_in">return</span> childVal &#125;</span><br><span class="line">  var ret = Object.create(null);</span><br><span class="line">  extend(ret, parentVal);</span><br><span class="line">  <span class="keyword">if</span> (childVal) &#123; extend(ret, childVal); &#125;</span><br><span class="line">  <span class="built_in">return</span> ret</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="provide"><a href="#provide" class="headerlink" title="provide"></a>provide</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strats.provide = mergeDataOrFn;</span><br></pre></td></tr></table></figure>

<h3 id="看下strats是什么"><a href="#看下strats是什么" class="headerlink" title="看下strats是什么"></a>看下strats是什么</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const options = &#123;&#125;</span><br><span class="line"><span class="built_in">let</span> key</span><br><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> parent) &#123;</span><br><span class="line">  mergeField(key)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> child) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!hasOwn(parent, key)) &#123;</span><br><span class="line">    mergeField(key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> mergeField (key) &#123;</span><br><span class="line">  const strat = strats[key] || defaultStrat</span><br><span class="line">  options[key] = strat(parent[key], child[key], vm, key)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> option</span><br></pre></td></tr></table></figure>
<h3 id="mergeOptions"><a href="#mergeOptions" class="headerlink" title="mergeOptions"></a>mergeOptions</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="keyword">function</span> mergeOptions (</span><br><span class="line">  parent: Object,</span><br><span class="line">  child: Object,</span><br><span class="line">  vm?: Component</span><br><span class="line">): Object &#123;</span><br><span class="line">  //检测子级是不是组件</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">    checkComponents(child)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 在global-api.js中，Vue.options = Object.create(null) 有对options进行初始化</span><br><span class="line">  <span class="keyword">if</span> (typeof child === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    child = child.options</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  normalizeProps(child, vm)</span><br><span class="line">  normalizeInject(child, vm)</span><br><span class="line">  normalizeDirectives(child)</span><br><span class="line">  //没看懂</span><br><span class="line">  <span class="keyword">if</span> (!child._base) &#123;</span><br><span class="line">    <span class="keyword">if</span> (child.extends) &#123;</span><br><span class="line">      parent = mergeOptions(parent, child.extends, vm)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (child.mixins) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="built_in">let</span> i = 0, l = child.mixins.length; i &lt; l; i++) &#123;</span><br><span class="line">        parent = mergeOptions(parent, child.mixins[i], vm)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const options = &#123;&#125;</span><br><span class="line">  <span class="built_in">let</span> key</span><br><span class="line">  <span class="keyword">for</span> (key <span class="keyword">in</span> parent) &#123;</span><br><span class="line">    mergeField(key)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (key <span class="keyword">in</span> child) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!hasOwn(parent, key)) &#123;</span><br><span class="line">      mergeField(key)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> mergeField (key) &#123;</span><br><span class="line">    const strat = strats[key] || defaultStrat</span><br><span class="line">    options[key] = strat(parent[key], child[key], vm, key)</span><br><span class="line">  &#125;</span><br><span class="line">  /**</span><br><span class="line">  strats[key]是特定的策略合并函数，如果没有，就使用默认的策略合并函数</span><br><span class="line">  options[key] 是执行特定策略函数得到的结果</span><br><span class="line">  mergeOptions的作用 : 如果child有extends或mixins，合并得到新的parent，</span><br><span class="line">  声明一个options为空对象，遍历parent，执行mergeField(key)，就是得到这个key的策略合并函数，并将执行结果赋值给options【key】 </span><br><span class="line">  如果parent已经存在key，child 就不调用，避免重复调用</span><br><span class="line">  最终的接口就是options将parent和child的key进行合并</span><br><span class="line"></span><br><span class="line">*/</span><br><span class="line">  <span class="built_in">return</span> options</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>normalizeProps做的事情，检测props是不是数组，是数组的话说明存的是prop的名字，使用camelize(val)转驼峰，结果为[name]:{ type: null };<br>如果props是个对象，遍历，检测prop是不是对象，不是的话转为对象[name]:{type:val},是的话不做处理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> normalizeProps (options: Object, vm: ?Component) &#123;</span><br><span class="line">  const props = options.props</span><br><span class="line">  <span class="keyword">if</span> (!props) <span class="built_in">return</span></span><br><span class="line">  const res = &#123;&#125;</span><br><span class="line">  <span class="built_in">let</span> i, val, name</span><br><span class="line">  <span class="keyword">if</span> (Array.isArray(props)) &#123;</span><br><span class="line">    i = props.length</span><br><span class="line">    <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">      val = props[i]</span><br><span class="line">      <span class="keyword">if</span> (typeof val === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        name = camelize(val)</span><br><span class="line">        res[name] = &#123; <span class="built_in">type</span>: null &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">        warn(<span class="string">&#x27;props must be strings when using array syntax.&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isPlainObject(props)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (const key <span class="keyword">in</span> props) &#123;</span><br><span class="line">      val = props[key]</span><br><span class="line">      name = camelize(key)</span><br><span class="line">      res[name] = isPlainObject(val)</span><br><span class="line">        ? val</span><br><span class="line">        : &#123; <span class="built_in">type</span>: val &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">   ...</span><br><span class="line">  &#125;</span><br><span class="line">  options.props = res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>normalizeInject做的事情，定义normalized={},如果options.inject是个数组，normalized[name]= {from:name},如果inject是个对象，判断每一项的值是不是对象，如果是对象，合并{from:key}和val，最后得到的是normalized[name]={from:key, …val},如果val是简单类型的值，得到normalized[name] = {from:val}</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> normalizeInject (options: Object, vm: ?Component) &#123;</span><br><span class="line">  const inject = options.inject</span><br><span class="line">  <span class="keyword">if</span> (!inject) <span class="built_in">return</span></span><br><span class="line">  const normalized = options.inject = &#123;&#125;</span><br><span class="line">  <span class="keyword">if</span> (Array.isArray(inject)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">let</span> i = 0; i &lt; inject.length; i++) &#123;</span><br><span class="line">      normalized[inject[i]] = &#123; from: inject[i] &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isPlainObject(inject)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (const key <span class="keyword">in</span> inject) &#123;</span><br><span class="line">      const val = inject[key]</span><br><span class="line">      normalized[key] = isPlainObject(val)</span><br><span class="line">        ? extend(&#123; from: key &#125;, val)</span><br><span class="line">        : &#123; from: val &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">    warn(</span><br><span class="line">      `Invalid value <span class="keyword">for</span> option <span class="string">&quot;inject&quot;</span>: expected an Array or an Object, ` +</span><br><span class="line">      `but got <span class="variable">$&#123;toRawType(inject)&#125;</span>.`,</span><br><span class="line">      vm</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>normalizeDirectives做的事情，转换成对象，就是把val 转换成 {bind:val,update:val}</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> normalizeDirectives (options: Object) &#123;</span><br><span class="line">  const <span class="built_in">dirs</span> = options.directives</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">dirs</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (const key <span class="keyword">in</span> <span class="built_in">dirs</span>) &#123;</span><br><span class="line">      const def = <span class="built_in">dirs</span>[key]</span><br><span class="line">      <span class="keyword">if</span> (typeof def === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">dirs</span>[key] = &#123; <span class="built_in">bind</span>: def, update: def &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="nextTick"><a href="#nextTick" class="headerlink" title="$nextTick"></a>$nextTick</h2><p>在下次dom更新之后执行回调，确保拿到的是dom最新的值 因为dom是异步更新</p>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2021/07/08/Vue/">
    <time datetime="2021-07-08T02:22:40.000Z" class="entry-date">
        2021-07-08
    </time>
</a>
    
    
    </footer>
</article>


    
<nav class="nav-single">
    <h3 class="assistive-text">文章导航</h3>
    
        <span class="nav-previous"><a href="/2021/07/27/vue%E6%B7%BB%E5%8A%A0%E5%85%A8%E5%B1%80%E6%B0%B4%E5%8D%B0/" rel="prev"><span class="meta-nav">←</span> vue添加全局水印</a></span>
    
    
        <span class="nav-next"><a href="/2021/07/07/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="next">浏览器 <span class="meta-nav">→</span></a></span>
    
</nav><!-- .nav-single -->







</div></div>
        <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="搜索" />
    </div>
</form></aside>
  
    
  
    
  
    
  <aside class="widget">
    <h3 class="widget-title">Recents</h3>
    <div class="widget-content">
      <ul>
        
          <li>
            <a href="/2021/11/06/%E7%BC%96%E7%A8%8B%E9%A2%98/">编程题</a>
          </li>
        
          <li>
            <a href="/2021/07/30/%E8%87%AA%E5%8A%A8%E5%8C%96%E7%94%9F%E6%88%90%E9%A1%B5%E9%9D%A2%E6%A8%A1%E6%9D%BF/">自动化生成页面模板</a>
          </li>
        
          <li>
            <a href="/2021/07/27/vue%E6%B7%BB%E5%8A%A0%E5%85%A8%E5%B1%80%E6%B0%B4%E5%8D%B0/">vue添加全局水印</a>
          </li>
        
          <li>
            <a href="/2021/07/08/Vue/">Vue</a>
          </li>
        
          <li>
            <a href="/2021/07/07/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a>
          </li>
        
      </ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-content">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI/" rel="tag">UI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-content tagcloud">
      <a href="/tags/UI/" style="font-size: 10px;">UI</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/vue/" style="font-size: 20px;">vue</a>
    </div>
  </aside>

  
</div>
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2021 John Doe
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</footer>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/js/share.js'];</script>

<script src="/js/jquery-3.3.1.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
</body>
</html>